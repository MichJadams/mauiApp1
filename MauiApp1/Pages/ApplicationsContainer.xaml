<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiApp1.Pages.ApplicationsContainer"
             Shell.NavBarIsVisible="False"
             BackgroundColor="#f0f0f0"
             Title="ApplicationsContainer">
    <VerticalStackLayout>
        <Button 
            Text="Back" 
            WidthRequest="70" 
            HorizontalOptions="Start" 
            Margin="10"
            Clicked="OnNavigteBack"></Button>
        <Button Text="Toggle Server" Clicked="OnToggleServerClicked" />
        <Border
            x:Name="StatusIndicator"
            WidthRequest="20"
            HeightRequest="20"
            BackgroundColor="Gray"
            VerticalOptions="Center"
            HorizontalOptions="Center" />

        <CollectionView ItemsSource="{Binding Applications}" Margin="10">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Border Margin="10">

                        <Grid Padding="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="2*" />
                                <ColumnDefinition Width="2*" />
                                <ColumnDefinition Width="2*" />
                                <ColumnDefinition Width="2*" />
                                <ColumnDefinition Width="2*" />

                            </Grid.ColumnDefinitions>
                            <Label Text="{Binding JobTitle}" Grid.Column="0" />
                            <Label Text="{Binding Company.CompanyName}" Grid.Column="1" />
                            <Label Text="{Binding Status}" Grid.Column="2" />
                            <Label 
                                Text="{Binding TagList}" 
                                Grid.Column="3" />

                            <Label Text="{Binding DateApplied, StringFormat='{0:MMM dd}'}" Grid.Column="4" />
                        </Grid>
                    </Border>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </VerticalStackLayout>
</ContentPage>